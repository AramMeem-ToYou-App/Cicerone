plugins {
    id 'java'
    id 'maven-publish'
}

sourceCompatibility = JavaVersion.VERSION_1_8
targetCompatibility = JavaVersion.VERSION_1_8

dependencies {
    compileOnly project(':stub-android')
}

//ext {
//    // This params is for the library uploading to the Bintray
//    bintrayRepo = 'terramaven'
//    bintrayName = ''
//    publishedGroupId = ''
//    artifact = 'cicerone'
//    libraryVersion = '3.0.0'
//    gitUrl = 'https://github.com/terrakok/Cicerone'
//    allLicenses = ['MIT']
//}
//
//// Configuration of the library uploading to the Bintray
//// Note: Call 'bintrayUpload' task (it will execute 'install' task first)
//// I try to include as little properties as possible in these files
//project.archivesBaseName ='cicerone' // to fix that project name different from artifact name
//
//// Tasks for sources and javadocs jars
//task sourcesJar(type: Jar) {
//    from sourceSets.main.java.srcDirs
//    classifier = 'sources'
//}
//
//task javadocJar(type: Jar, dependsOn: javadoc) {
//    classifier = 'javadoc'
//    from javadoc.destinationDir
//}
//artifacts {
//    archives javadocJar
//    archives sourcesJar
//}

afterEvaluate {
    publishing {
        publications {
            maven(MavenPublication) {
                from components.java

                groupId = "ru.terrakok.cicerone"
                artifactId = "cicerone"
                version = "3.0.1"
            }
        }
        repositories {
            maven {
                name = "GitHubPackages"
                url = uri("https://maven.pkg.github.com/AramMeem-ToYou-App/Cicerone")

                credentials {
                    username = ARAMMEEM_GITHUB_USERNAME
                    password = ARAMMEEM_GITHUB_PACKAGES_TOKEN
                }
            }
        }
    }
}
