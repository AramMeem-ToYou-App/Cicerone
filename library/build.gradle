plugins {
    id 'java'
    id 'maven-publish'
}

sourceCompatibility = JavaVersion.VERSION_1_8
targetCompatibility = JavaVersion.VERSION_1_8

dependencies {
    compileOnly project(':stub-android')
}

afterEvaluate {
    publishing {
        publications {
            maven(MavenPublication) {
                from components.java

                groupId = "ru.terrakok.cicerone"
                artifactId = "cicerone"
                version = "3.0.1"
            }
        }
        repositories {
            maven {
                name = "GitHubPackages"
                url = uri("https://maven.pkg.github.com/AramMeem-ToYou-App/Cicerone")

                credentials {
                    username = ARAMMEEM_GITHUB_USERNAME
                    password = ARAMMEEM_GITHUB_PACKAGES_TOKEN
                }
            }
        }
    }
}
